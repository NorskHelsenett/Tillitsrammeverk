# Møte i feature-team for informasjons- og datamodell - 06.03.2023

## Til stede
- Richard Husevåg (HSØ)
- Sverre Martin Jensen (Oslo Kommune)
- Erik Vegler Broen (Oslo Kommune - Origo)
- Simone Vandeberg (NHN)
- Steinar Noem (NHN)

## Observatører
- Michal Cermak

### Ikke til stede
- Morten Stensøy (HNIKT)

## Agenda
1. Gjennomgang av agendaen - akseptert av arbeidsgruppa?
2. Standard struktur for attributter
3. Organisasjon som objekt
4. Attributter for virksomhet
5. Informasjon fra HPR-registeret
6. Helsetjenestetype fra IPLOS
7. Planlegge møtet på fredag
8. Annet/eventuelt


## Saksbehandling

### 1. Gjennomgang av agendaen

### 2. Standard struktur for attributter
[Diskusjonstråd - #22](https://github.com/NorskHelsenett/Tillitsrammeverk/discussions/22)

#### 2.1 Forslag #1
Skille mellom identiteter og konsepter/kodeverk:
````JSON
"person (juridisk/fysisk)": {
	"id": "xxxxxxxx",
	"name": "navn på juridisk eller fysisk person",
	"system": "x.x.x.x.x.x", //oid for F-nr/D-nr/Org.nr
    "authority": "www.brreg.no" //eller www.skatteetaten.no
}

"verdi_fra_kodeverk":{
	"code": "en_kode",
	"text": "en_beskrivende_tekst",
	"system": "oid kode for system",
	"assigner" "den_ansvarlige_for_kodeverket"
}

"fritekst": {
    "type": "NUMERIC|ALPHANUMERIC|DECIMAL",
    "value": "en verdi" 
}
```` 
_**Argument**_:
Å skille mellom forskjellige typer "claims" ved å bruke forskjellige generiske-strukturer for hver informasjonstype kan forenkle parsing og tolking av informasjonen.

#### 2.2 Forslag #2
Felles struktur for alle attributter:
````JSON
"verdi_fra_kodeverk":{
	"code": "en_kode",
	"text": "en_beskrivende_tekst",
	"system": "oid kode for system",
	"assigner" "den_ansvarlige_for_kodeverket"
}
````
_**Argument**_:
Gir det egentlig reell og nyttig merverdi å ha ulik navngiving/struktur på identifikatorer og kodeverk?
Det er helt klart grunn til å diskutere om system/assigner alltid må være koblet til id og ikke til code-verdien slik vi har lagt til grunn her.

### 3. Organisasjon som objekt
* Organisasjon som objekt bør reflekteres i informasjonsmodellen.
* Organisasjonen kan relateres til både helsepersonellet og pasienten

#### 3.1 Beslutning:


### 4. Attributter for virksomhet
#### 4.1 Databehandler ("legal_entity")
Kilde for legal entity: 
* for multi-tenancy: EPJ (kontroll av delegering mot Altinn i HelseID)
* for on-premise (single-tenant): HelseID

#### 4.2 Behandlingssted ("point_of_care")
Beslutningen er at attributtet skal være med, men som valgfritt element. pga at fastleger i noen tilfeller ikke skiller mellom juridisk enhet og behandlingssted.

* Burde behandlingssted (Point of Care) være  obligatorisk?
* Hvordan håndterer vi Oslo kommune, med etatene sine?

#### 4.3 Beslutning(er):

Aksjon: opprett issue for å rette opp informasjonskilde for databehandler: i dag reflekteres ikke forskjellen mellom multi-tenancy og single-tenancy.


### 5. Informasjon fra HPR-registeret
#### 5.1 Hvorfor er det valgfritt å oppgi HPR-nummer?

Bakgrunn: [Diskusjon #3](https://github.com/NorskHelsenett/Tillitsrammeverk/discussions/3)

Kan denne diskusjonen lukkes?
Beslutning:

#### 5.2 Inkludere autorisasjoner/lisenser fra HPR?

Bakgrunn:
* [Diskusjon #8](https://github.com/NorskHelsenett/Tillitsrammeverk/discussions/8)
* [Diskusjon #7](https://github.com/NorskHelsenett/Tillitsrammeverk/discussions/7)


#### 5.3 Beslutning:
Kan disse diskusjonene lukkes?


### 6. Helsetjenestetype fra IPLOS vs [tjenestetyper i Volven](https://volven.no/categoryres.asp?open_f=true&catID=3&subID=8&srcTable=KVELEMENT&open=true&subCat=163) vs Purpose of Use

#### 6.1 Bakgrunn: 
[Diskusjon #11](https://github.com/NorskHelsenett/Tillitsrammeverk/discussions/11)

Tre ulike attributter som beskriver forskjellige perspektiver?
* Purpose of Use:
    - formålet med behandlingen av personopplysninger
* Facility type:
    - Typen helsetjeneste som ytes ved behandlingsstedet
* IPLOS helsetjenestetype:
    - Hvilken tjeneste virksomheten skal levere for den aktuelle pasienten

#### 6.2 Forslag til nytt attributt for IPLOS koder
Navneforslag basert på [HL7 EpisodeOfCare](https://www.hl7.org/fhir/episodeofcare.html): 
* episodeOfCare
* episode_of_care
* care_type

````JSON
"care_type": {
     "code": "15",
     "text": "Helsetjenester i hjemmet",
     "system": "urn:oid:x.x.x.x.x.9151",
     "assigner": "volven.no"
}
````

#### 6.3 Noen spørsmål til teamet
- Trenger vi _alle tre attributter?_
- Klarer vi å si noe om formålet med attributtene?
    - Tilgangsstyring?
    - Dokumentasjon/loggføring
    - Etterkontroll?


#### 6.4 Beslutning:


### 7. Planlegge møtet på fredag
Hvilke tema bør vi diskutere på fredag?

### 8. Annet/eventuelt

